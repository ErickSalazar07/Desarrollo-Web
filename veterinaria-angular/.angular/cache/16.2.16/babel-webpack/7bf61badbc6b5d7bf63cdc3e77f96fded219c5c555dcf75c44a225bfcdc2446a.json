{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nexport let FormularioMascotaComponent = class FormularioMascotaComponent {\n  constructor(servicioMascota, servicioCliente, router, location) {\n    this.servicioMascota = servicioMascota;\n    this.servicioCliente = servicioCliente;\n    this.router = router;\n    this.location = location;\n    this.clienteEncontrado = true;\n  }\n  ngOnInit() {}\n  submitMascota() {\n    this.servicioCliente.findByCedula(this.mascota.cedulaCliente).subscribe(c => {\n      if (c === null) {\n        this.clienteEncontrado = false;\n        return;\n      }\n      if (this.mascota.id === -1) {\n        this.servicioMascota.addMascota(this.mascota).subscribe({\n          complete: () => this.location.back()\n        });\n      } else {\n        this.servicioMascota.updateMascota(this.mascota).subscribe({\n          complete: () => this.router.navigate(['/veterinario/dashboard/mascota/mascotas'])\n        });\n      }\n      this.clienteEncontrado = true;\n    });\n  }\n};\n__decorate([Input()], FormularioMascotaComponent.prototype, \"mascota\", void 0);\nFormularioMascotaComponent = __decorate([Component({\n  selector: 'app-formulario-mascota',\n  templateUrl: './formulario-mascota.component.html',\n  styleUrls: ['./formulario-mascota.component.css']\n})], FormularioMascotaComponent);","map":{"version":3,"names":["Component","Input","FormularioMascotaComponent","constructor","servicioMascota","servicioCliente","router","location","clienteEncontrado","ngOnInit","submitMascota","findByCedula","mascota","cedulaCliente","subscribe","c","id","addMascota","complete","back","updateMascota","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/erick/Desarrollo-Web/veterinaria-angular/src/app/mascota/formulario-mascota/formulario-mascota.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Mascota } from 'src/app/modelo/mascota';\nimport { ClienteService } from 'src/app/servicio/cliente.service';\nimport { MascotaService } from 'src/app/servicio/mascota.service';\nimport { Location } from '@angular/commo'\n\n@Component({\n  selector: 'app-formulario-mascota',\n  templateUrl: './formulario-mascota.component.html',\n  styleUrls: ['./formulario-mascota.component.css']\n})\nexport class FormularioMascotaComponent implements OnInit {\n\n  @Input()\n  mascota!: Mascota;\n  clienteEncontrado: boolean = true;\n\n  constructor(\n    private servicioMascota: MascotaService,\n    private servicioCliente: ClienteService,\n    private router: Router,\n    private location:Location\n  ) {}\n\n  ngOnInit(): void { }\n\n  submitMascota() {\n    this.servicioCliente.findByCedula(this.mascota.cedulaCliente).\n    subscribe(c => {\n      if(c === null) {\n        this.clienteEncontrado = false;\n        return;\n      }\n\n      if(this.mascota.id === -1) {\n        this.servicioMascota.addMascota(this.mascota).subscribe({\n            complete: () => this.location.back()\n          }\n        )\n      } else {\n        this.servicioMascota.updateMascota(this.mascota).subscribe({\n          complete: () => this.router.navigate(['/veterinario/dashboard/mascota/mascotas'])\n        });\n      }\n      this.clienteEncontrado = true;\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,QAAgB,eAAe;AAYjD,WAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAMrCC,YACUC,eAA+B,EAC/BC,eAA+B,EAC/BC,MAAc,EACdC,QAAiB;IAHjB,KAAAH,eAAe,GAAfA,eAAe;IACf,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,QAAQ,GAARA,QAAQ;IANlB,KAAAC,iBAAiB,GAAY,IAAI;EAO9B;EAEHC,QAAQA,CAAA,GAAW;EAEnBC,aAAaA,CAAA;IACX,IAAI,CAACL,eAAe,CAACM,YAAY,CAAC,IAAI,CAACC,OAAO,CAACC,aAAa,CAAC,CAC7DC,SAAS,CAACC,CAAC,IAAG;MACZ,IAAGA,CAAC,KAAK,IAAI,EAAE;QACb,IAAI,CAACP,iBAAiB,GAAG,KAAK;QAC9B;;MAGF,IAAG,IAAI,CAACI,OAAO,CAACI,EAAE,KAAK,CAAC,CAAC,EAAE;QACzB,IAAI,CAACZ,eAAe,CAACa,UAAU,CAAC,IAAI,CAACL,OAAO,CAAC,CAACE,SAAS,CAAC;UACpDI,QAAQ,EAAEA,CAAA,KAAM,IAAI,CAACX,QAAQ,CAACY,IAAI;SACnC,CACF;OACF,MAAM;QACL,IAAI,CAACf,eAAe,CAACgB,aAAa,CAAC,IAAI,CAACR,OAAO,CAAC,CAACE,SAAS,CAAC;UACzDI,QAAQ,EAAEA,CAAA,KAAM,IAAI,CAACZ,MAAM,CAACe,QAAQ,CAAC,CAAC,yCAAyC,CAAC;SACjF,CAAC;;MAEJ,IAAI,CAACb,iBAAiB,GAAG,IAAI;IAC/B,CAAC,CAAC;EACJ;CACD;AAjCCc,UAAA,EADCrB,KAAK,EAAE,C,0DACU;AAHPC,0BAA0B,GAAAoB,UAAA,EALtCtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,wBAAwB;EAClCC,WAAW,EAAE,qCAAqC;EAClDC,SAAS,EAAE,CAAC,oCAAoC;CACjD,CAAC,C,EACWvB,0BAA0B,CAoCtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}